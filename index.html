<!DOCTYPE html>
<html lang="el">

<head>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<title>My Organizer</title>

<style>

/* ===== Î’Î‘Î£Î™ÎšÎ— Î•ÎœÎ¦Î‘ÎÎ™Î£Î— ===== */

body {
  font-family: Arial;
  text-align: left;
  margin: 40px 0 0 0;   /* <-- Î‘Î¦Î‘Î™Î¡Î•Î£Î— Î‘Î¡Î™Î£Î¤Î•Î¡ÎŸÎ¥ ÎšÎ•ÎÎŸÎ¥ */
}

input {
  font-size: 18px;
  padding: 10px;  
}

#pinInput {
  width: 100px;
}

#reminderInput {
  width: 250px;
}


button {
  font-size: 18px;
  padding: 10px;
  margin-top: 10px;     
}


<!-- Î›Î¯ÏƒÏ„Î± Ï…Ï€ÎµÎ½Î¸Ï…Î¼Î¯ÏƒÎµÏ‰Î½ -->
ul {
  list-style: none;
  padding-left: 0;
  margin: 0;
}


li {
  font-size: 18px;
  /* margin: 5px 5px 5px 0; */
  background: #eef;
  padding: 0px 0px;
  border-radius: 5px;
  margin: 5px 0;

  display: flex;
  /* justify-content: space-between; */
  align-items: center;
}


li button {
  width: 25px;
  height: 25px;

  font-size: 14px;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  padding: 0;
  margin-left: 4px;
  vertical-align: middle;
}

li span {
  
  line-height: 1;
}


li div {
  display: flex;
  align-items: center;
  height: 100%;
}



ul, li {
  margin-left: 0 !important;
  padding-left: 0 !important;
}


</style>

</head>




<body>

<!-- ================= LOGIN SCREEN ================= -->


<div id="login">
  <!-- Î ÎµÏÎ¹Î¿Ï‡Î® ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î®Ï‚ PIN -->

  <h2>ğŸ”’ Î’Î¬Î»Îµ PIN</h2>

  <div class="pin-row">

    <input type="password"
           id="pinInput"
           placeholder="PIN"
           inputmode="numeric"
           maxlength="8">
    <!-- Î ÎµÎ´Î¯Î¿ PIN -->

    <button onclick="checkPin()">Î•Î¯ÏƒÎ¿Î´Î¿Ï‚</button>
    <!-- ÎšÎ»Î®ÏƒÎ· JavaScript ÎµÎ»Î­Î³Ï‡Î¿Ï… PIN -->

  </div>
</div>


<!--...................................................-->

<!-- ================= MAIN APP ================= -->

<div id="app" style="display:none;">
  <!-- ÎšÏÏÎ¹Î± ÎµÏ†Î±ÏÎ¼Î¿Î³Î® â€” Î±ÏÏ‡Î¹ÎºÎ¬ ÎºÏÏ…Ï†Î® -->

  <h2>Organizer â€” Î¥Ï€ÎµÎ½Î¸Ï…Î¼Î¯ÏƒÎµÎ¹Ï‚</h2>

  <div class="input-area">
      <!-- ===== INPUT ===== -->
      <input id="reminderInput" placeholder="Î“ÏÎ¬ÏˆÎµ Ï…Ï€ÎµÎ½Î¸ÏÎ¼Î¹ÏƒÎ·">


      <!-- ===== BUTTON ===== -->
      <button onclick="addReminder()">+</button>
      

  <!-- ===== Î›Î™Î£Î¤Î‘ ===== -->
  <ul id="list"></ul>


<hr>

<button onclick="exportData()">ğŸ“¤ Î•Î¾Î±Î³Ï‰Î³Î®</button>

<button onclick="document.getElementById('importFile').click()">ğŸ“¥ Î•Î¹ÏƒÎ±Î³Ï‰Î³Î®</button>

<input type="file"
       id="importFile"
       accept=".json"
       style="display:none"
       onchange="importData(event)">

</div>
<script>

// ================= PIN CONSTANT =================
const CORRECT_PIN = "05031927";
// Î£Ï„Î±Î¸ÎµÏÎ¬ PIN
// VBA: Const CORRECT_PIN = "05031927"


// ================= PIN CHECK =================

//  Î¤Î‘ÎÎ™ÎÎŸÎœÎ™Î£Î— ÎšÎ‘Î¤Î‘ Î‘Î›Î¦Î‘Î’Î—Î¤Î™ÎšÎ— Î£Î•Î™Î¡Î‘
function sortReminders() {
  reminders.sort((a, b) =>
    a.localeCompare(b, 'el', { sensitivity: "base" })
  //a.localeCompare(b, 'en', { sensitivity: "base" })  
  );
}

//  Î§Î¤Î™Î£Î™ÎœÎŸ Î¤Î—Î£ Î›Î™Î£Î¤Î‘Î£
function loadNotes() {
  sortReminders();   // â­ Î¤Î‘ÎÎ™ÎÎŸÎœÎ—Î£Î—
  document.getElementById("list").innerHTML = "";
  reminders.forEach((text, i) => showItem(text, i));
}

function checkPin() {
  const input = document.getElementById("pinInput").value;
  // Î”Î¹Î±Î²Î¬Î¶ÎµÎ¹ Ï„Î¹Î¼Î® Î±Ï€ÏŒ input
  // VBA: input = Me.txtPIN.Value

  if (input === CORRECT_PIN) {
    document.getElementById("login").style.display = "none";
    // Î‘Ï€ÏŒÎºÏÏ…ÏˆÎ· login panel
    // VBA: Me.pnlLogin.Visible = False

    document.getElementById("app").style.display = "block";
    // Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· ÎºÏÏÎ¹Î±Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚
    // VBA: Me.pnlApp.Visible = True

    loadNotes();
    // Refresh Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½
    // VBA: Me.Requery
  } else {
    alert("Î›Î¬Î¸Î¿Ï‚ PIN");
    // VBA: MsgBox "Î›Î¬Î¸Î¿Ï‚ PIN"
  }
}



/* ==========================================
   Î›Î™Î£Î¤Î‘ Î¥Î Î•ÎÎ˜Î¥ÎœÎ™Î£Î•Î©Î Î£Î¤Î— ÎœÎÎ—ÎœÎ—
========================================== */

let reminders = [];    // Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï€Î¯Î½Î±ÎºÎ±, Î±ÏÏ‡Î¹ÎºÎ¬ Î¬Î´ÎµÎ¹Î¿


/* ==========================================
   Î¦ÎŸÎ¡Î¤Î©Î£Î— Î‘Î ÎŸ localStorage ÎŸÎ¤Î‘Î Î‘ÎÎŸÎ™Î“Î•Î™ Î— Î£Î•Î›Î™Î”Î‘
========================================== */

window.onload = function() {    // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Ï€Î¿Ï… ÎµÎºÏ„ÎµÎ»ÎµÎ¯Ï„Î±Î¹ Î¼Îµ Ï„Î¿ Î¬Î½Î¿Î¹Î³Î¼Î± Ï„Î·Ï‚ ÏƒÎµÎ»Î¯Î´Î±Ï‚

  let saved = localStorage.getItem("myReminders");  //ÎŸÎ¹ Î±Ï€Î¿Î¸Î·ÎºÎµÏ…Î¼Î­Î½ÎµÏ‚ Ï…Ï€ÎµÎ½Î¸Ï…Î¼Î®ÏƒÎµÎ¹Ï‚

  if (saved) {                         // Î•Î¬Î½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½

    reminders = JSON.parse(saved);    //  ÎœÎµÏ„Î±Ï„ÏÎ¿Ï€Î® Ï„Ï‰Î½ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ ÏƒÎµ Ï€Î¯Î½Î±ÎºÎ±

    
  }
};


/* ==========================================
   Î Î¡ÎŸÎ£Î˜Î—ÎšÎ— Î¥Î Î•ÎÎ˜Î¥ÎœÎ™Î£Î—Î£
========================================== */

function addReminder() {

  let text = document.getElementById("reminderInput").value;  // Î¤Î¹ Î³ÏÎ¬ÏˆÎ±Î¼Îµ

  if (text === "") return;    //  Î‘Î½ ÎµÎ¯Î½Î±Î¹ ÎºÎµÎ½ÏŒ, ÏƒÏ„Î±Î¼Î¬Ï„Î±

  reminders.push(text);      //  Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Ï„Î·Ï‚ Ï…Ï€ÎµÎ½Î¸ÏÎ¼Î¹ÏƒÎ·Ï‚ ÏƒÏ„Î¿Î½ Ï€Î¯Î½Î±ÎºÎ±  

  localStorage.setItem("myReminders", JSON.stringify(reminders));  // Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· ÏƒÎµ Î¼Î¿ÏÏ†Î® ÎºÎµÎ¹Î¼Î­Î½Î¿Ï…

  showItem(text, reminders.length - 1);     //  Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· Ï„Î¿Ï… Î½Î­Î¿Ï… ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î¿Ï… ÏƒÏ„Î· ÏƒÎµÎ»Î¯Î´Î±

  document.getElementById("reminderInput").value = "";   //  ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚ input
}


/* ==========================================
   Î•ÎœÎ¦Î‘ÎÎ™Î£Î— Î£Î¤Î— Î›Î™Î£Î¤Î‘
========================================== */

function showItem(text, index) {

  let item = document.createElement("li");

  // span(Î•Î¤Î™ÎšÎ•Î¤Î¤Î‘) Î ÎŸÎ¥ ÎšÎ¡Î‘Î¤Î‘ ÎºÎµÎ¯Î¼ÎµÎ½Î¿
  let label = document.createElement("span"); // [ÎšÎ•Î™ÎœÎ•ÎÎŸ] [Î§], span â†’ Ï„Î¿ ÎºÎµÎ¯Î¼ÎµÎ½Î¿, button â†’ Ï„Î¿ Î§
  let firstLetter = text.charAt(0);
  let restText = text.slice(1);

  label.innerHTML =
    '<span style="color:blue; font-weight:bold;">' +
    firstLetter +
    '</span>' +
    restText;

  
  
  /*.........................................................................*/
   
  // ÎºÎ¿Ï…Î¼Ï€Î¯ Î§
  let delBtn = document.createElement("button");
  delBtn.textContent = "X";

  // ÏŒÏ„Î±Î½ Ï€Î±Ï„Î·Î¸ÎµÎ¯ â†’ Î´Î¹Î±Î³ÏÎ±Ï†Î®
  delBtn.onclick = function() {
    deleteReminder(index);
  };
  
  
  /*.........................................................................*/
   
  // ÎºÎ¿Ï…Î¼Ï€Î¯ Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚
  let editBtn = document.createElement("button");
  editBtn.textContent = "âœï¸";

  // ÏŒÏ„Î±Î½ Ï€Î±Ï„Î·Î¸ÎµÎ¯ â†’ ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±
  editBtn.onclick = function() {
    editReminder(index);
  };
  
  


  // ÎºÎ¿Ï…Î¼Ï€Î¯ Î¬Î½Ï‰ Î¼ÎµÏ„Î±ÎºÎ¯Î½Î·ÏƒÎ·Ï‚
  let upBtn = document.createElement("button");
  upBtn.textContent = "â–²";

  // ÏŒÏ„Î±Î½ Ï€Î±Ï„Î·Î¸ÎµÎ¯ â†’ Î¼ÎµÏ„Î±ÎºÎ¯Î½Î·ÏƒÎ· Ï€ÏÎ¿Ï‚ Ï„Î± Î¬Î½Ï‰
  upBtn.onclick = function() {
    moveUpReminder(index);
  };

  
  /*

  // ÎºÎ¿Ï…Î¼Ï€Î¯ ÎºÎ¬Ï„Ï‰ Î¼ÎµÏ„Î±ÎºÎ¯Î½Î·ÏƒÎ·Ï‚
  let downBtn = document.createElement("button");
  downBtn.textContent = "â–¼";

  // ÏŒÏ„Î±Î½ Ï€Î±Ï„Î·Î¸ÎµÎ¯ â†’ Î¼ÎµÏ„Î±ÎºÎ¯Î½Î·ÏƒÎ· Ï€ÏÎ¿Ï‚ Ï„Î± ÎºÎ¬Ï„Ï‰
  downBtn.onclick = function() {
    moveDownReminder(index);
  };
  
*/

  /*.........................................................................*/

 // Î ÏÎ¿ÏƒÎ¬ÏÏ„Î·ÏƒÎ· Ï„Î·Ï‚ ÎµÏ„Î¹ÎºÎ­Ï„Ï„Î±Ï‚ ÎºÎ±Î¹ Ï„Ï‰Î½ ÎºÎ¿Ï…Î¼Ï€Î¹ÏÎ½ ÏƒÏ„Î¿ ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î¿ Î»Î¯ÏƒÏ„Î±Ï‚
 let btnBox = document.createElement("div");

 btnBox.appendChild(delBtn);
 btnBox.appendChild(editBtn);
 btnBox.appendChild(upBtn);      
 //btnBox.appendChild(downBtn);    Î‘Î¦Î‘Î™Î¡Î•Î£Î— ÎšÎŸÎ¥ÎœÎ Î™ÎŸÎ¥ ÎšÎ‘Î¤Î© ÎœÎ•Î¤Î‘ÎšÎ™ÎÎ—Î£Î—Î£

 item.appendChild(label);
 item.appendChild(btnBox);

 // Î ÏÎ¿ÏƒÎ¬ÏÏ„Î·ÏƒÎ· Ï„Î¿Ï… ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î¿Ï… Î»Î¯ÏƒÏ„Î±Ï‚ ÏƒÏ„Î· Î»Î¯ÏƒÏ„Î±
 document.getElementById("list").appendChild(item);
}


function deleteReminder(index) {

  // Î±Ï†Î±Î¹ÏÎ¿ÏÎ¼Îµ Î±Ï€ÏŒ Ï„Î¿Î½ Ï€Î¯Î½Î±ÎºÎ±
  reminders.splice(index, 1);

  // Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·
  localStorage.setItem("myReminders",JSON.stringify(reminders)
  );
  
  // Î¾Î±Î½Î±Ï‡Ï„Î¯Î¶Î¿Ï…Î¼Îµ Î»Î¯ÏƒÏ„Î±
  document.getElementById("list").innerHTML = "";

  reminders.forEach((text, i) =>
    showItem(text, i)
  );
}


function editReminder(index) {

  let newText = prompt("Î¤ÏÎ¿Ï€Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï…Ï€ÎµÎ½Î¸ÏÎ¼Î¹ÏƒÎ·Ï‚:", reminders[index]);

  if (newText === null) return;       // Î±ÎºÏÏÏ‰ÏƒÎ·
  newText = newText.trim();
  if (newText === "") return;

  reminders[index] = newText;

  // Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·
  localStorage.setItem("myReminders",JSON.stringify(reminders)
  );
  
  // Î¾Î±Î½Î±Ï‡Ï„Î¯Î¶Î¿Ï…Î¼Îµ Î»Î¯ÏƒÏ„Î±
  document.getElementById("list").innerHTML = "";

  reminders.forEach((text, i) =>
    showItem(text, i)
  );
}


function moveUpReminder(index) {

  if (index === 0) return;      // Î£Ï„Î¿ Ï€ÏÏÏ„Î¿ ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î¿ ÏƒÏ„Î±Î¼Î¬Ï„Î±
  
  [reminders[index - 1], reminders[index]] = [reminders[index], reminders[index - 1]];

  // Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·
  localStorage.setItem("myReminders",JSON.stringify(reminders)
  );

  // Î¾Î±Î½Î±Ï‡Ï„Î¯Î¶Î¿Ï…Î¼Îµ Î»Î¯ÏƒÏ„Î±
  document.getElementById("list").innerHTML = "";

  reminders.forEach((text, i) =>
    showItem(text, i)
  );
}


function moveDownReminder(index) {

  if (index === reminders.length - 1) return;   // Î£Ï„Î¿ Ï„ÎµÎ»ÎµÏ…Ï„Î±Î¯Î¿ ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î¿ ÏƒÏ„Î±Î¼Î¬Ï„Î±
  
  [reminders[index + 1], reminders[index]] = [reminders[index], reminders[index + 1]];

  // Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·
  localStorage.setItem("myReminders",JSON.stringify(reminders)
  );

  // Î¾Î±Î½Î±Ï‡Ï„Î¯Î¶Î¿Ï…Î¼Îµ Î»Î¯ÏƒÏ„Î±
  document.getElementById("list").innerHTML = "";

  reminders.forEach((text, i) =>
    showItem(text, i)
  );
}


/* ==========================================
   EXPORT Î”Î•Î”ÎŸÎœÎ•ÎÎ©Î
========================================== */

function exportData() {

  let data = localStorage.getItem("myReminders");

  if (!data) {
    alert("Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î´ÎµÎ´Î¿Î¼Î­Î½Î± Î³Î¹Î± ÎµÎ¾Î±Î³Ï‰Î³Î®.");
    return;
  }

  const blob = new Blob([data], { type: "application/json" });
  const url = URL.createObjectURL(blob);

  const a = document.createElement("a");
  a.href = url;
  a.download = "myReminder_backup.json";
  a.click();

  URL.revokeObjectURL(url);
}


/* ==========================================
   IMPORT Î”Î•Î”ÎŸÎœÎ•ÎÎ©Î
========================================== */

function importData(event) {

  const file = event.target.files[0];
  if (!file) return;

  const reader = new FileReader();

  reader.onload = function(e) {

    try {
      const imported = JSON.parse(e.target.result);

      localStorage.setItem("myReminders", JSON.stringify(imported));

      reminders = imported;

      loadNotes();

      alert("Î— ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î® Î¿Î»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚.");

    } catch (err) {
      alert("Î¤Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ Î­Î³ÎºÏ…ÏÎ¿.");
    }

  };

  reader.readAsText(file);
}



/* ==========================================
   Î‘Î ÎŸÎ˜Î—ÎšÎ•Î¥Î£Î— Î£Î¤ÎŸ localStorage
========================================== 

function saveData() {          // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·Ï‚ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½

  localStorage.setItem("myReminders", JSON.stringify(reminders));  // ÎœÎµÏ„Î±Ï„Ï.Ï€Î¯Î½.ÏƒÎµ ÎºÎµÎ¯Î¼ÎµÎ½Î¿
  
}
*/

</script>

<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}
</script>

</body>
</html>
